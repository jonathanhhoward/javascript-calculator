{"version":3,"sources":["components/Display.js","components/Key.js","modules/key-constants.js","components/KeyPad.js","modules/get-result.js","modules/setPrecision10.js","modules/calculate.js","handlers/handle-delete.js","handlers/handle-equals.js","handlers/handle-operator.js","handlers/handle-digit.js","handlers/select-handler.js","modules/initial-state.js","handlers/handle-decimal.js","App.js","serviceWorker.js","index.js"],"names":["Display","props","className","expression","id","input","Key","keyData","class","onClick","type","value","keysData","KeyPad","map","data","key","getResult","state","result","number","Number","isNaN","NaN","absNumber","Math","abs","round","toString","precision10","toPrecision","toExponential","setPrecision10","expressionString","tokenArray","match","left","term","token","shift","Error","primary","d","unshift","calculate","error","message","isResult","isEquals","zeroInput","slice","length","replaceNegative","equals","isNegative","replaceOperator","isOperator","append","appendToResult","operator","appendNegative","handleDigit","digit","limit","replace","isMaxDigits","replaceResult","appendToNegative","appendToOperator","replaceZero","selectHandler","handleDelete","handleEquals","handleOperator","decimal","includes","handleDecimal","App","handleClick","event","target","setState","prevProps","prevState","snapshot","this","React","Component","Boolean","window","location","hostname","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.7b741f65.chunk.js","sourcesContent":["import React from 'react'\r\nimport './Display.css'\r\n\r\nexport default function Display (props) {\r\n  return (\r\n    <div className=\"Display\">\r\n      <div className=\"Expression\">{props.expression}</div>\r\n      <div id=\"display\" className=\"Input\">{props.input}</div>\r\n    </div>\r\n  )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Key (props) {\r\n  return (\r\n    <button\r\n      className={'Key ' + props.keyData.class}\r\n      id={props.keyData.id}\r\n      onClick={props.onClick}\r\n      type=\"button\"\r\n      value={props.keyData.value}\r\n    >\r\n      {props.keyData.value}\r\n    </button>\r\n  )\r\n}\r\n","export const CLEAR = 'AC'\r\nexport const DELETE = 'C'\r\nexport const DIVIDE = '/'\r\nexport const MULTIPLY = '*'\r\nexport const SUBTRACT = '-'\r\nexport const ADD = '+'\r\nexport const EQUALS = '='\r\nexport const DECIMAL = '.'\r\nexport const ZERO = '0'\r\nexport const ONE = '1'\r\nexport const TWO = '2'\r\nexport const THREE = '3'\r\nexport const FOUR = '4'\r\nexport const FIVE = '5'\r\nexport const SIX = '6'\r\nexport const SEVEN = '7'\r\nexport const EIGHT = '8'\r\nexport const NINE = '9'\r\n","import React from 'react'\r\nimport Key from './Key'\r\nimport * as KEY from '../modules/key-constants'\r\nimport './KeyPad.css'\r\n\r\nconst keysData = [\r\n  { id: 'clear', class: 'clear', value: KEY.CLEAR },\r\n  { id: 'delete', class: 'delete', value: KEY.DELETE },\r\n  { id: 'divide', class: 'operator', value: KEY.DIVIDE },\r\n  { id: 'multiply', class: 'operator', value: KEY.MULTIPLY },\r\n  { id: 'subtract', class: 'operator', value: KEY.SUBTRACT },\r\n  { id: 'add', class: 'operator', value: KEY.ADD },\r\n  { id: 'equals', class: 'equals', value: KEY.EQUALS },\r\n  { id: 'decimal', class: 'digit', value: KEY.DECIMAL },\r\n  { id: 'zero', class: 'digit', value: KEY.ZERO },\r\n  { id: 'one', class: 'digit', value: KEY.ONE },\r\n  { id: 'two', class: 'digit', value: KEY.TWO },\r\n  { id: 'three', class: 'digit', value: KEY.THREE },\r\n  { id: 'four', class: 'digit', value: KEY.FOUR },\r\n  { id: 'five', class: 'digit', value: KEY.FIVE },\r\n  { id: 'six', class: 'digit', value: KEY.SIX },\r\n  { id: 'seven', class: 'digit', value: KEY.SEVEN },\r\n  { id: 'eight', class: 'digit', value: KEY.EIGHT },\r\n  { id: 'nine', class: 'digit', value: KEY.NINE }\r\n]\r\n\r\nexport default function KeyPad (props) {\r\n  return (\r\n    <div className=\"KeyPad\">\r\n      {keysData.map(data => (\r\n        <Key key={data.id} keyData={data} onClick={props.onClick}/>\r\n      ))}\r\n    </div>\r\n  )\r\n}\r\n","import setPrecision10 from './setPrecision10'\r\nimport calculate from './calculate'\r\n\r\nexport default function getResult (state) {\r\n  let result\r\n\r\n  try {\r\n    result = setPrecision10(calculate(state.expression))\r\n  } catch (error) {\r\n    result = error.message\r\n  }\r\n\r\n  return {\r\n    input: result,\r\n    isResult: !state.isResult,\r\n    isEquals: !state.isEquals\r\n  }\r\n}\r\n","export default function setPrecision10 (number) {\r\n  if (Number.isNaN(number)) return NaN\r\n\r\n  if (number === 0) return '0'\r\n\r\n  const absNumber = Math.abs(number)\r\n\r\n  if (1e-6 <= absNumber && absNumber < 1) {\r\n    const round9 = Math.round(number * 1e+9) / 1e+9\r\n    return round9.toString()\r\n  }\r\n\r\n  const precision10 = Number(number).toPrecision(10)\r\n\r\n  return (absNumber < 1e-6 || 1e+10 <= absNumber)\r\n    ? Number(precision10).toExponential()\r\n    : Number(precision10).toString()\r\n}\r\n","export default function calculate (expressionString) {\r\n  const reNumberOrOperator = /(?:\\d+(?:\\.\\d*)?(?:e[-+]\\d+)?)|[-+*/=]/g\r\n  const tokenArray = expressionString.match(reNumberOrOperator)\r\n\r\n  return expression()\r\n\r\n  /*\r\n  The following code has been adapted for JavaScript from:\r\n      Bjarne Stroustrup, \"Programming: Principles and Practice Using C++\"\r\n      Second Edition (Pearson Education, Inc., 2014).\r\n   */\r\n\r\n  function expression () {\r\n    let left = term()\r\n    let token = tokenArray.shift()\r\n\r\n    while (true) {\r\n      switch (token) {\r\n        case '+':\r\n          left += term()\r\n          token = tokenArray.shift()\r\n          break\r\n        case '-':\r\n          left -= term()\r\n          token = tokenArray.shift()\r\n          break\r\n        case '=':\r\n          return left\r\n        default:\r\n          throw new Error('expression error')\r\n      }\r\n    }\r\n  }\r\n\r\n  function term () {\r\n    let left = primary()\r\n    let token = tokenArray.shift()\r\n\r\n    while (true) {\r\n      switch (token) {\r\n        case '*':\r\n          left *= primary()\r\n          token = tokenArray.shift()\r\n          break\r\n        case '/':\r\n          const d = primary()\r\n          if (d === 0) throw new Error('divide by zero')\r\n          left /= d\r\n          token = tokenArray.shift()\r\n          break\r\n        default:\r\n          tokenArray.unshift(token)\r\n          return left\r\n      }\r\n    }\r\n  }\r\n\r\n  function primary () {\r\n    const token = tokenArray.shift()\r\n    if (token === '-') return -primary()\r\n\r\n    const result = Number(token)\r\n    if (Number.isNaN(result)) throw new Error('primary expected')\r\n\r\n    return result\r\n  }\r\n}\r\n","export default function handleDelete (state) {\r\n  const { isResult, isNegative, isOperator } = state\r\n\r\n  if (isResult || isNegative || isOperator) return state\r\n\r\n  return zeroInput(state)\r\n}\r\n\r\nconst zeroInput = (state) => ({\r\n  expression: state.expression.slice(0, -state.input.length) + '0',\r\n  input: '0'\r\n})\r\n","export default function handleEquals (state, equals) {\r\n  const { isResult, isNegative, isOperator } = state\r\n\r\n  if (isResult) return state\r\n\r\n  if (isNegative) return replaceNegative(state, equals)\r\n\r\n  if (isOperator) return replaceOperator(state, equals)\r\n\r\n  return append(state, equals)\r\n}\r\n\r\nexport const replaceNegative = (state, equals) => ({\r\n  expression: state.expression.slice(0, -2) + equals,\r\n  isNegative: !state.isNegative,\r\n  isEquals: !state.isEquals\r\n})\r\n\r\nexport const replaceOperator = (state, equals) => ({\r\n  expression: state.expression.slice(0, -1) + equals,\r\n  isOperator: !state.isOperator,\r\n  isEquals: !state.isEquals\r\n})\r\n\r\nexport const append = (state, equals) => ({\r\n  expression: state.expression + equals,\r\n  isEquals: !state.isEquals\r\n})\r\n","export default function handleOperator (state, operator) {\r\n  const { isResult, isNegative, isOperator } = state\r\n\r\n  if (isResult) return appendToResult(state, operator)\r\n\r\n  if (isNegative) return replaceNegative(state, operator)\r\n\r\n  if (isOperator) return (operator === '-')\r\n    ? appendNegative(state, operator)\r\n    : replaceOperator(state, operator)\r\n\r\n  return append(state, operator)\r\n}\r\n\r\nconst appendToResult = (state, operator) => ({\r\n  expression: state.input + operator,\r\n  input: operator,\r\n  isResult: !state.isResult,\r\n  isOperator: !state.isOperator\r\n})\r\n\r\nconst replaceNegative = (state, operator) => ({\r\n  expression: state.expression.slice(0, -2) + operator,\r\n  input: operator,\r\n  isNegative: !state.isNegative,\r\n  isOperator: !state.isOperator\r\n})\r\n\r\nconst appendNegative = (state, operator) => ({\r\n  expression: state.expression + operator,\r\n  input: operator,\r\n  isNegative: !state.isNegative,\r\n  isOperator: !state.isOperator\r\n})\r\n\r\nconst replaceOperator = (state, operator) => ({\r\n  expression: state.expression.slice(0, -1) + operator,\r\n  input: operator\r\n})\r\n\r\nconst append = (state, operator) => ({\r\n  expression: state.expression + operator,\r\n  input: operator,\r\n  isOperator: !state.isOperator\r\n})\r\n","export default function handleDigit (state, digit) {\r\n  const { input, isResult, isNegative, isOperator } = state\r\n\r\n  if (isMaxDigits(input,10) && !isResult) return state\r\n\r\n  if (isResult) return replaceResult(state, digit)\r\n\r\n  if (isNegative) return appendToNegative(state, digit)\r\n\r\n  if (isOperator) return appendToOperator(state, digit)\r\n\r\n  if (input === '0') return replaceZero(state, digit)\r\n\r\n  return append(state, digit)\r\n\r\n  function isMaxDigits (input, limit) {\r\n    return (input.replace(/[.-]/g, '').length === limit)\r\n  }\r\n}\r\n\r\nconst replaceResult = (state, digit) => ({\r\n  expression: digit,\r\n  input: digit,\r\n  isResult: !state.isResult\r\n})\r\n\r\nconst appendToNegative = (state, digit) => ({\r\n  expression: state.expression + digit,\r\n  input: state.input + digit,\r\n  isNegative: !state.isNegative\r\n})\r\n\r\nconst appendToOperator = (state, digit) => ({\r\n  expression: state.expression + digit,\r\n  input: digit,\r\n  isOperator: !state.isOperator\r\n})\r\n\r\nconst replaceZero = (state, digit) => ({\r\n  expression: state.expression.slice(0, -1) + digit,\r\n  input: digit\r\n})\r\n\r\nconst append = (state, digit) => ({\r\n  expression: state.expression + digit,\r\n  input: state.input + digit\r\n})\r\n","import handleClear from './handle-clear'\r\nimport handleDelete from './handle-delete'\r\nimport handleEquals from './handle-equals'\r\nimport handleOperator from './handle-operator'\r\nimport handleDecimal from './handle-decimal'\r\nimport handleDigit from './handle-digit'\r\nimport * as KEY from '../modules/key-constants'\r\n\r\nexport default function selectHandler (state, value) {\r\n  switch (value) {\r\n    case KEY.CLEAR:\r\n      return handleClear()\r\n    case KEY.DELETE:\r\n      return handleDelete(state)\r\n    case KEY.EQUALS:\r\n      return handleEquals(state, value)\r\n    case KEY.ADD:\r\n    case KEY.SUBTRACT:\r\n    case KEY.MULTIPLY:\r\n    case KEY.DIVIDE:\r\n      return handleOperator(state, value)\r\n    case KEY.DECIMAL:\r\n      return handleDecimal(state, value)\r\n    default:\r\n      return handleDigit(state, value)\r\n  }\r\n}\r\n","export default function initialState () {\r\n  return {\r\n    expression: '0',\r\n    input: '0',\r\n    isResult: false,\r\n    isEquals: false,\r\n    isNegative: false,\r\n    isOperator: false\r\n  }\r\n}\r\n","import handleDigit from './handle-digit'\r\n\r\nexport default function handleDecimal (state, decimal) {\r\n  const { input, isResult, isNegative, isOperator } = state\r\n\r\n  if (input.includes(decimal) && !isResult) return state\r\n\r\n  return (input === '0' || isResult || isNegative || isOperator)\r\n    ? handleDigit(state, '0' + decimal)\r\n    : handleDigit(state, decimal)\r\n}\r\n","import React from 'react'\r\nimport Display from './components/Display'\r\nimport KeyPad from './components/KeyPad'\r\nimport initialState from './modules/initial-state'\r\nimport getResult from './modules/get-result'\r\nimport selectHandler from './handlers/select-handler'\r\nimport './App.css'\r\n\r\nexport default class App extends React.Component {\r\n  constructor (props) {\r\n    super(props)\r\n    this.state = initialState()\r\n  }\r\n\r\n  componentDidUpdate (prevProps, prevState, snapshot) {\r\n    this.state.isEquals && this.setState(getResult)\r\n  }\r\n\r\n  handleClick = (event) => {\r\n    const value = event.target.value\r\n\r\n    this.setState(state => selectHandler(state, value))\r\n  }\r\n\r\n  render () {\r\n    return (\r\n      <div className=\"App\">\r\n        <Display expression={this.state.expression} input={this.state.input}/>\r\n        <KeyPad onClick={this.handleClick}/>\r\n      </div>\r\n    )\r\n  }\r\n}\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n  // [::1] is the IPv6 localhost address.\r\n  window.location.hostname === '[::1]' ||\r\n  // 127.0.0.1/8 is considered localhost for IPv4.\r\n  window.location.hostname.match(\r\n    /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/,\r\n  ),\r\n)\r\n\r\nexport function register (config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config)\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n            'worker. To learn more, visit https://bit.ly/CRA-PWA',\r\n          )\r\n        })\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n  }\r\n}\r\n\r\nfunction registerValidSW (swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing\r\n        if (installingWorker == null) {\r\n          return\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                'tabs for this page are closed. See https://bit.ly/CRA-PWA.',\r\n              )\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration)\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.')\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration)\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error)\r\n    })\r\n}\r\n\r\nfunction checkValidServiceWorker (swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type')\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload()\r\n          })\r\n        })\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config)\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.',\r\n      )\r\n    })\r\n}\r\n\r\nexport function unregister () {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister()\r\n    })\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport * as serviceWorker from './serviceWorker'\r\n\r\nReactDOM.render(<App/>, document.getElementById('root'))\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister()\r\n"],"sourceRoot":""}